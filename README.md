# Spring Data JPA Entity Graph Sample

Sample application demonstrating https://github.com/Cosium/spring-data-jpa-entity-graph setup and usage.

# How to play with it

Run `com.cosium.spring_data_jpa_entity_graph_sample.App`, then try to invoke the exposed endpoints. Keep an eye on the
application console to see the SQL queries generated by each request.

# List products without brands

GET `http://localhost:8080/products/`

```json
[
  {
    "id": 1,
    "name": "Model S",
    "brandName": "Not loaded"
  },
  {
    "id": 2,
    "name": "Model Y",
    "brandName": "Not loaded"
  },
  {
    "id": 3,
    "name": "Model X",
    "brandName": "Not loaded"
  },
  {
    "id": 4,
    "name": "A7",
    "brandName": "Not loaded"
  },
  {
    "id": 5,
    "name": "TT",
    "brandName": "Not loaded"
  },
  {
    "id": 6,
    "name": "R8",
    "brandName": "Not loaded"
  }
]
```

# List products with brands

GET `http://localhost:8080/products?with_brand=true`

```json
[
  {
    "id": 1,
    "name": "Model S",
    "brandName": "Tesla"
  },
  {
    "id": 2,
    "name": "Model Y",
    "brandName": "Tesla"
  },
  {
    "id": 3,
    "name": "Model X",
    "brandName": "Tesla"
  },
  {
    "id": 4,
    "name": "A7",
    "brandName": "Audi"
  },
  {
    "id": 5,
    "name": "TT",
    "brandName": "Audi"
  },
  {
    "id": 6,
    "name": "R8",
    "brandName": "Audi"
  }
]
```

# Get product by id

GET `http://localhost:8080/products/1`

```json
{
  "id": 1,
  "name": "Model S",
  "brandName": "Tesla"
}
```
